{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://07-js-cart/./src/model.js","webpack://07-js-cart/./src/view.js","webpack://07-js-cart/webpack/bootstrap","webpack://07-js-cart/webpack/runtime/define property getters","webpack://07-js-cart/webpack/runtime/hasOwnProperty shorthand","webpack://07-js-cart/webpack/runtime/make namespace object","webpack://07-js-cart/./src/controller.js"],"sourcesContent":["const model = {\n  products: {\n    1: { id: 1, name: \"Jorts\", price: 0.99, imgUrl: \"http://placehold.co/150x150?text=Jorts\" },\n    2: { id: 2, name: \"Jean\", price: 3.14, imgUrl: \"http://placehold.co/150x150?text=Jean\" },\n    3: { id: 3, name: \"Nyancat\", price: 2.73, imgUrl: \"http://placehold.co/150x150?text=Nyancat\" },\n  },\n  cart: {},\n  showCart: false,\n};\n\nexport const addToCart = function (productId) {\n  if (model.cart[productId]) {\n    model.cart[productId].quantity += 1; \n  } else {\n    const product = model.products[productId];\n    if (product) {\n      model.cart[productId] = { product, quantity: 1 }; \n    }\n  }\n};\n\nexport const updateCartQuantity = function (productId, quantity) {\n  if (quantity <= 0) {\n    delete model.cart[productId];  \n  } else {\n    model.cart[productId].quantity = quantity; \n  }\n};\n\nexport const toggleCartVisibility = function () {\n  model.showCart = !model.showCart;\n};\n\nexport const checkout = function () {\n  model.cart = {}; \n  model.showCart = false;\n};\n\nexport default model;","import model from \"./model.js\";\n\nfunction renderProducts(model, appEl) {\n  const productListHtml = Object.values(model.products)\n    .map(\n      (product) => `\n      <div class=\"product\">\n        <img src=\"${product.imgUrl}\" alt=\"this is ${product.name}\">\n        <p>${product.name} - $${product.price.toFixed(2)}</p>\n        <button class=\"add-to-cart\" data-id=\"${product.id}\">Add to Cart</button>\n      </div>`\n    )\n    .join(\"\");\n\n  let totalQuantity = 0;\n  for (const item of Object.values(model.cart)) {\n    totalQuantity += item.quantity;\n  }\n\n  const viewCart = !model.showCart\n    ? `<button id=\"view-cart\" class=\"view-cart\">View Cart (${totalQuantity})</button>`\n    : \"\";\n\n  appEl.innerHTML = `\n    <div class=\"product-list\">${productListHtml}</div>\n    ${viewCart}\n  `;\n}\n\nfunction renderCart(model, appEl) {\n  const cartListHtml = Object.values(model.cart)\n    .map(\n      ({ product, quantity }) => `\n      <div class=\"cart-item\">\n        <img src=\"${product.imgUrl}\" alt=\"this is ${product.name}\">\n        <p>${product.name} - $${product.price.toFixed(2)} x ${quantity} = $${(\n        product.price * quantity\n      ).toFixed(2)}</p>\n        <label for=\"quantity-${product.id}\">Quantity:</label>\n        <input type=\"number\" id=\"quantity-${product.id}\" value=\"${quantity}\" data-id=\"${product.id}\" class=\"update-quantity\" />\n      </div>`\n    )\n    .join(\"\");\n\n  let totalPrice = 0;\n  for (const { product, quantity } of Object.values(model.cart)) {\n    totalPrice += product.price * quantity;\n  }\n\n  appEl.innerHTML += `\n    <div class=\"cart ${model.showCart ? \"open\" : \"\"}\">\n      <h2>Cart</h2>\n      ${cartListHtml || \"<p>Nothing in the cart</p>\"}\n      <p class=\"cart-total\">Total: $${totalPrice.toFixed(2)}</p>\n      <button id=\"checkout\" class=\"checkout\">Checkout</button>\n      <button id=\"hide-cart\" class=\"hide-cart\">Hide Cart</button>\n    </div>\n  `;\n}\n\nexport default function render(model, appEl) {\n  renderProducts(model, appEl);\n  if (model.showCart) {\n    renderCart(model, appEl);\n  }\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import model, { addToCart, updateCartQuantity, toggleCartVisibility, checkout } from \"./model.js\";\nimport render from \"./view.js\";\n\nconst appEl = document.querySelector(\"#app\");\n\nrender(model, appEl);\n\nappEl.addEventListener(\"click\", (e) => {\n  if (e.target.classList.contains(\"add-to-cart\")) {\n    const productId = parseInt(e.target.dataset.id, 10);\n    addToCart(productId);\n    render(model, appEl); \n  }\n\n  if (e.target.id === \"view-cart\" || e.target.id === \"hide-cart\") {\n    toggleCartVisibility();\n    render(model, appEl); \n  }\n\n  if (e.target.id === \"checkout\") {\n    checkout();\n    render(model, appEl); \n  }\n});\n\nappEl.addEventListener(\"input\", (e) => {\n  if (e.target.classList.contains(\"update-quantity\")) {\n    const productId = parseInt(e.target.dataset.id, 10);\n    const quantity = parseInt(e.target.value, 10);\n    updateCartQuantity(productId, quantity);\n    render(model, appEl); \n  }\n});"],"names":["model","products","id","name","price","imgUrl","cart","showCart","addToCart","productId","quantity","product","updateCartQuantity","toggleCartVisibility","checkout","renderProducts","appEl","productListHtml","Object","values","map","concat","toFixed","join","totalQuantity","_i","_Object$values","length","item","viewCart","innerHTML","renderCart","cartListHtml","_ref","totalPrice","_i2","_Object$values2","_Object$values2$_i","render","document","querySelector","addEventListener","e","target","classList","contains","parseInt","dataset","value"],"sourceRoot":""}