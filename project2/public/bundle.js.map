{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://project2/./src/constants.js","webpack://project2/./src/listeners.js","webpack://project2/./src/render.js","webpack://project2/./src/services.js","webpack://project2/./src/state.js","webpack://project2/webpack/bootstrap","webpack://project2/webpack/runtime/compat get default export","webpack://project2/webpack/runtime/define property getters","webpack://project2/webpack/runtime/hasOwnProperty shorthand","webpack://project2/webpack/runtime/make namespace object","webpack://project2/./src/index.js"],"sourcesContent":["const SERVER = {\n  AUTH_MISSING: 'auth-missing',\n  AUTH_INSUFFICIENT: 'auth-insufficient',\n  REQUIRED_USERNAME: 'required-username',\n  REQUIRED_MESSAGE: 'required-message',\n  MESSAGE_NOT_FOUND: 'message-not-found',\n};\n\nconst CLIENT = {\n  NETWORK_ERROR: 'networkError',\n  NO_SESSION: 'noSession',\n};\n\nconst MESSAGES = {\n  [CLIENT.NETWORK_ERROR]: 'Trouble connecting to the network. Please try again.',\n  [SERVER.AUTH_INSUFFICIENT]: 'Your username is not permitted. Please try a different username.',\n  [SERVER.REQUIRED_USERNAME]: 'Please enter a valid username (letters and/or numbers only).',\n  [SERVER.REQUIRED_MESSAGE]: 'Message content cannot be empty.',\n  default: 'Server unavailable, try again',\n};\n\nmodule.exports = { SERVER, CLIENT, MESSAGES };","import { loginUser, logoutUser, getChatMessages, sendChatMessage, removeChatMessage, getOnlineUsers, getAllRegisteredUsers } from './services';\nimport appState, { login, logout, setMessages, setUsers, setAllUsers, setError, startLoginPending, clearError } from './state';\nimport renderView from './render';\nimport { SERVER } from './constants'; \n\nlet pollingInterval;\n\nexport function setupLoginHandler({ appState, appEl }) {\n  appEl.addEventListener('submit', (e) => {\n    if (!e.target.classList.contains('login__form')) return;\n    e.preventDefault();\n\n    const usernameInput = appEl.querySelector('.login__username');\n    if (!usernameInput) {\n      console.error('Login input element not found');\n      setError('Login input not found');\n      renderView({ appState, appEl });\n      return;\n    }\n\n    const username = e.target.querySelector('.login__username').value.trim();\n    if (!username) {\n      setError(SERVER.REQUIRED_USERNAME); \n      renderView({ appState, appEl });\n      return;\n    }\n\n    startLoginPending();\n    renderView({ appState, appEl });\n\n    loginUser(username)\n      .then(() => {\n        login(username);\n        clearError();\n        return Promise.all([getChatMessages(), getOnlineUsers(), getAllRegisteredUsers()]);\n      })\n      .then(([messages, users, allUsers]) => {\n        setMessages(messages);\n        setUsers(users);\n        setAllUsers(allUsers);\n        startMessagePolling({ appState, appEl });\n        renderView({ appState, appEl });\n      })\n      .catch(err => {\n        setError(err.error);\n        appState.loginInProgress = false;\n        renderView({ appState, appEl });\n      });\n  });\n}\n\nexport function setupLogoutHandler({ appState, appEl }) {\n  appEl.addEventListener('click', (e) => {\n    if (!e.target.classList.contains('controls__logout')) return;\n\n    logoutUser()\n      .then(() => {\n        logout();\n        clearError();\n        stopMessagePolling();\n        renderView({ appState, appEl });\n      })\n      .catch(err => {\n        setError(err.error);\n        renderView({ appState, appEl });\n      });\n  });\n}\n\nexport function setupMessageHandler({ appState, appEl }) {\n  appEl.addEventListener('input', (e) => {\n    if (e.target.classList.contains('message__input')) {\n      appState.messageInputValue = e.target.value || '';\n    }\n  });\n\n  appEl.addEventListener('submit', (e) => {\n    if (!e.target.classList.contains('message__form')) return;\n    e.preventDefault();\n\n    const message = (appState.messageInputValue || '').trim();\n\n    sendChatMessage(message)\n      .then(() => {\n        return Promise.all([getChatMessages(), getOnlineUsers()]);\n      })\n      .then(([messages, users]) => {\n        setMessages(messages);\n        setUsers(users);\n        appState.messageInputValue = ''; \n        clearError();\n        renderView({ appState, appEl });\n      })\n      .catch(err => {\n        setError(err.error);\n        renderView({ appState, appEl });\n      });\n  });\n}\n\nexport function setupDeleteMessageHandler({ appState, appEl }) {\n  appEl.addEventListener('click', (e) => {\n    if (e.target.classList.contains('message__delete')) {\n      const messageId = e.target.getAttribute('data-id');\n      removeChatMessage(messageId)\n        .then(response => {\n          if (response.success) {\n            setMessages(appState.messages.filter(msg => msg.id !== messageId));\n            renderView({ appState, appEl });\n          }\n        })\n        .catch(err => {\n          setError(err.error);\n          renderView({ appState, appEl });\n        });\n    }\n  });\n}\n\nexport function startMessagePolling({ appState, appEl }) {\n  if (pollingInterval) {\n    clearInterval(pollingInterval);\n  }\n  pollingInterval = setInterval(() => {\n    if (!appState.userIsLoggedIn) {\n      stopMessagePolling();\n      return;\n    }\n    Promise.all([getChatMessages(), getOnlineUsers(), getAllRegisteredUsers()])\n      .then(([newMessages, newUsers, newAllUsers]) => {\n        const isMessagesUpdated = JSON.stringify(newMessages) !== JSON.stringify(appState.messages);\n        const isUsersUpdated = JSON.stringify(newUsers) !== JSON.stringify(appState.users);\n        const isAllUsersUpdated = JSON.stringify(newAllUsers) !== JSON.stringify(appState.allUsers);\n\n        if (isMessagesUpdated) {\n          setMessages(newMessages);\n        }\n        if (isUsersUpdated) {\n          setUsers(newUsers);\n        }\n        if (isAllUsersUpdated) {\n          setAllUsers(newAllUsers);\n        }\n\n        if (isMessagesUpdated || isUsersUpdated || isAllUsersUpdated) {\n          renderView({ appState, appEl });\n        }\n      })\n      .catch(err => {\n        if (err.error === 'auth-missing') {\n          logout();\n          setError('Session expired. Please log in again.');\n          stopMessagePolling();\n          renderView({ appState, appEl });\n          return;\n        }\n        if (!appState.errorMessage) {\n          setError(err.error);\n          renderView({ appState, appEl });\n        }\n      });\n  }, 5000);\n}\n\nfunction stopMessagePolling() {\n  if (pollingInterval) {\n    clearInterval(pollingInterval);\n    pollingInterval = null;\n  }\n}","function renderView({ appState, appEl }) {\n  const html = `\n    <main>\n      ${renderStatusMessage(appState)}\n      ${renderLoginForm(appState)}\n      ${renderChatInterface(appState)}\n    </main>\n  `;\n  appEl.innerHTML = html;\n}\n\nfunction renderStatusMessage(appState) {\n  return appState.errorMessage ? `<div class=\"status error\">${appState.errorMessage}</div>` : '';\n}\n\nfunction renderLoginForm(appState) {\n  if (appState.userIsLoggedIn) {\n    return '';\n  }\n  if (appState.initialLoadInProgress) {\n    return `\n      <div class=\"loading-container\">\n        <span class=\"loading-spinner\"></span>\n        <span class=\"loading-small\">Checking session...</span>\n      </div>\n    `;\n  } \n  if (appState.loginInProgress) {\n    return `\n    <div class=\"loading-container\">\n      <span class=\"loading-spinner\"></span>\n      <span class=\"loading-small\">Logging in and loading data...</span>\n    </div>\n    `;\n  }\n  return `\n    <div class=\"login\">\n      <h2 class=\"login__title\">Login</h2>\n      <form class=\"login__form\" action=\"#login\">\n        <label>\n          <span>Username:</span>\n          <input class=\"login__username\" type=\"text\" value=\"${appState.loginInputValue || ''}\">\n        </label>\n        <button class=\"login__button\" type=\"submit\">Login</button>\n      </form>\n    </div>\n  `;\n}\n\nfunction renderChatInterface(appState) {\n  if (!appState.userIsLoggedIn) return '';\n  \n  if (appState.messages.length === 0 && appState.users.length === 0) {\n    return `\n      <div class=\"loading-container\">\n        <span class=\"loading-spinner\"></span>\n        <span class=\"loading-small\">Loading chat data...</span>\n      </div>\n    `;\n  }\n\n  const messagesHtml = appState.messages.map(msg => {\n    const isUserMessage = msg.username === appState.currentUser;\n    return `\n      <div class=\"message\">\n        <span class=\"message__username\">${msg.username}:</span> ${msg.message}\n        ${isUserMessage ? `<button class=\"message__delete\" data-id=\"${msg.id}\">Delete</button>` : ''}\n      </div>\n    `;\n  }).join('');\n\n  return `\n    <div class=\"chat-header\">\n      <h2 class=\"chat-header__title\">Chat Room</h2>\n      <button class=\"controls__logout\">Logout</button>\n    </div>\n    <div class=\"chat\">\n      <div class=\"user-list\">\n        <h3 class=\"user-list__title\">Online Users</h3>\n        <div class=\"user-list__content\">${renderUserList(appState)}</div>\n      </div>\n      <div class=\"messages\">\n        <div class=\"messages__content\">${messagesHtml}</div>\n        ${renderMessageInputForm(appState)}\n      </div>\n    </div>\n  `;\n}\n\nfunction renderUserList(appState) {\n  if (!appState.users || appState.users.length === 0) {\n    return '<div class=\"user__name\">No users online</div>';\n  }\n\n  return appState.users.map(user => `\n    <div class=\"user__name\">\n      <span class=\"user__status\"></span> \n      ${user}\n    </div>\n  `).join('');\n}\n\nfunction renderMessageInputForm(appState) {\n  return `\n    <form class=\"message__form\" action=\"#send\">\n      <label for=\"message__input\" class=\"message__label\">Type a message:</label>\n      <input id=\"message__input\" class=\"message__input\" type=\"text\" placeholder=\"Type a message...\" value=\"${appState.messageInputValue || ''}\">\n      <button type=\"submit\" class=\"message__button\">Send</button>\n    </form>\n  `;\n}\n\nexport default renderView;","export function loginUser(username) {\n  return fetch('/api/v1/session', {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ username })\n  }).then(handleResponse);\n}\n\nexport function logoutUser() {\n  return fetch('/api/v1/session', { method: 'DELETE' }).then(handleResponse);\n}\n\nexport function getChatMessages() {\n  return fetch('/api/v1/messages').then(handleResponse);\n}\n\nexport function sendChatMessage(message) {\n  return fetch('/api/v1/messages', {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ message })\n  }).then(response => {\n    if (!response.ok) {\n      return response.json().then(err => {\n        err.status = response.status;\n        return Promise.reject(err);\n      });\n    }\n    return response.json();\n  });\n}\n\nexport function checkUserSession() {\n  return fetch('/api/v1/session')\n    .then(handleResponse)\n    .catch(err => {\n      if (err.error === 'auth-missing') {\n        return Promise.reject({ error: 'auth-missing' });\n      }\n      return Promise.reject(err);\n    });\n}\n\nexport function getOnlineUsers() {\n  return fetch('/api/v1/users')\n    .then(handleResponse)\n    .catch(err => {\n      const error = err.error || 'Failed to fetch users';\n      return Promise.reject({ error });\n    });\n}\n\nexport function getAllRegisteredUsers() {\n  return fetch('/api/v1/allusers')\n    .then(handleResponse)\n    .catch(err => {\n      const error = err.error || 'Failed to fetch all users';\n      return Promise.reject({ error });\n    });\n}\n\nexport function removeChatMessage(id) {\n  return fetch(`/api/v1/messages/${id}`, {\n    method: 'DELETE',\n  }).then(handleResponse);\n}\n\nfunction handleResponse(response) {\n  if (!response.ok) {\n    return response.json().then(err => {\n      if (err && err.error) {\n        return Promise.reject(err);\n      }\n      return Promise.reject({ \n        error: response.status === 400 ? 'validation-error' : 'network-error'\n      });\n    });\n  }\n  return response.json();\n}","import { MESSAGES } from './constants';\n\nconst appState = {\n  messages: [],\n  users: [],    \n  allUsers: [], \n  userIsLoggedIn: false,\n  loginInProgress: false,\n  chatInProgress: false,\n  errorMessage: '',\n  currentUser: '',\n  loadingMessage: '',\n  initialLoadInProgress: true \n};\n\nexport function login(username) {\n  appState.userIsLoggedIn = true;\n  appState.loginInProgress = false;\n  appState.currentUser = username;\n  appState.errorMessage = '';\n}\n\nexport function logout() {\n  appState.userIsLoggedIn = false;\n  appState.loginInProgress = false;\n  appState.currentUser = '';\n  appState.messages = [];\n  appState.users = [];   \n  appState.errorMessage = '';\n}\n\nexport function setMessages(newMessages) {\n  appState.messages = newMessages;\n  appState.chatInProgress = false;\n  appState.errorMessage = '';\n}\n\nexport function setUsers(newUsers) {\n  const activeUsers = new Set(newUsers);\n  appState.users = appState.users.filter(user => activeUsers.has(user));\n  appState.users = [...newUsers];\n}\n\nexport function setAllUsers(newAllUsers) {\n  appState.allUsers = newAllUsers;\n}\n\nexport function setError(error) {\n  appState.errorMessage = MESSAGES[error] || MESSAGES.default;\n  appState.chatInProgress = false;\n  appState.loginInProgress = false;\n}\n\nexport function startLoginPending() {\n  appState.loginInProgress = true;\n  appState.errorMessage = '';\n}\n\nexport function startChatPending() {\n  appState.chatInProgress = true;\n  appState.loadingMessage = message;\n  appState.errorMessage = '';\n}\n\nexport function endChatPending() {\n  appState.chatInProgress = false;\n  appState.loadingMessage = '';\n}\n\nexport function clearError() {\n  appState.errorMessage = '';\n}\n\nexport function setSession(username) {\n  appState.userIsLoggedIn = true;\n  appState.currentUser = username;\n  appState.loginInProgress = false;\n  appState.errorMessage = '';\n}\n\nexport function startMessagesLoading() {\n  state.messagesLoading = true;\n}\n\nexport default appState;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import appState, { login, logout, setMessages, setUsers, setAllUsers, setError } from './state';\nimport { checkUserSession, getChatMessages, getOnlineUsers, getAllRegisteredUsers } from './services';\nimport renderView from './render';\nimport { setupLoginHandler, setupLogoutHandler, setupMessageHandler, startMessagePolling, setupDeleteMessageHandler } from './listeners';\n\nconst appEl = document.querySelector('#app');\nrenderView({ appState, appEl });\n\nsetupLoginHandler({ appState, appEl });\nsetupLogoutHandler({ appState, appEl });\nsetupMessageHandler({ appState, appEl });\nstartMessagePolling({ appState, appEl });\nsetupDeleteMessageHandler({ appState, appEl }); \ncheckForSession();\n\nfunction checkForSession() {\n  checkUserSession()\n    .then(session => {\n      login(session.username);\n      appState.initialLoadInProgress = false; \n      renderView({ appState, appEl });\n      return Promise.all([getChatMessages(), getOnlineUsers(), getAllRegisteredUsers()]);\n    })\n    .catch(err => {\n      appState.initialLoadInProgress = false; \n      const error = err?.error === 'auth-missing' ? 'noSession' : \n                   err?.error || CLIENT.NETWORK_ERROR;\n      return Promise.reject({ error });\n    })\n    .then(([messages, users, allUsers]) => {\n      setMessages(messages);\n      setUsers(users);\n      setAllUsers(allUsers);\n      renderView({ appState, appEl });\n    })\n    .catch(err => {\n      if (err?.error === 'noSession') {\n        logout();\n        renderView({ appState, appEl });\n        return;\n      }\n\n      setError(err?.error || 'ERROR');\n      renderView({ appState, appEl });\n    });\n}"],"names":["SERVER","AUTH_MISSING","AUTH_INSUFFICIENT","REQUIRED_USERNAME","REQUIRED_MESSAGE","MESSAGE_NOT_FOUND","CLIENT","NETWORK_ERROR","NO_SESSION","MESSAGES","_defineProperty","module","exports","loginUser","logoutUser","getChatMessages","sendChatMessage","removeChatMessage","getOnlineUsers","getAllRegisteredUsers","appState","login","logout","setMessages","setUsers","setAllUsers","setError","startLoginPending","clearError","renderView","pollingInterval","setupLoginHandler","_ref","appEl","addEventListener","e","target","classList","contains","preventDefault","usernameInput","querySelector","console","error","username","value","trim","then","Promise","all","_ref2","_ref3","_slicedToArray","messages","users","allUsers","startMessagePolling","err","loginInProgress","setupLogoutHandler","_ref4","stopMessagePolling","setupMessageHandler","_ref5","messageInputValue","message","_ref6","_ref7","setupDeleteMessageHandler","_ref8","messageId","getAttribute","response","success","filter","msg","id","_ref9","clearInterval","setInterval","userIsLoggedIn","_ref10","_ref11","newMessages","newUsers","newAllUsers","isMessagesUpdated","JSON","stringify","isUsersUpdated","isAllUsersUpdated","errorMessage","html","concat","renderStatusMessage","renderLoginForm","renderChatInterface","innerHTML","initialLoadInProgress","loginInputValue","length","messagesHtml","map","isUserMessage","currentUser","join","renderUserList","renderMessageInputForm","user","fetch","method","headers","body","handleResponse","ok","json","status","reject","checkUserSession","chatInProgress","loadingMessage","activeUsers","Set","has","_toConsumableArray","startChatPending","endChatPending","setSession","startMessagesLoading","state","messagesLoading","document","checkForSession","session"],"sourceRoot":""}